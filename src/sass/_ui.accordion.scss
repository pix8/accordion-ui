/*
*	Compressed and generated using grunt.js sass/compress build tools
*
*	@title: 	ui.accordion.scss (partial)
* 	@project:	pix8 ui
* 	@author: 	Jonathan Brincat@pix8.co.uk <jonathan@pix8.co.uk>
*
**/

@charset "UTF-8";

$color__primary: 		#A7C55D;
$color__secondary: 		#EC008C;
$color__base: 			#888888;


/* =============================================================================
	UI Accordion
	========================================================================== */
.ui__accordion {
	@include list-unstyled;

	dt,
	.accordion__header {
		color: #FFF;
		text-transform: uppercase;
		font-size: 1.2rem;
		position: relative;
		margin: 0;
	
		&:after {
			position: absolute;
			top: 10px;
			right: 20px;
			width: 8px;
			height: 8px;
			border-top: 3px solid #FFF;
			border-right: 3px solid #FFF;
			transform: rotate(135deg);
			transition: transform 500ms;

			html:not(.client__no-js) & {
				content: "\00A0";
			}
		}
	
		button {
			background-color: $color__base;
			border: 0 none;
			text-transform: inherit;
			font-size: inherit;
			color: inherit;
			text-align: left;
			display: block;
			width: 100%;
			padding: 10px 42px 10px 10px;
			
			html:not(.client__no-js) & {
				cursor: pointer;

				&:hover {
					background-color: $color__primary;
				}
			}
		}
	
		&.state__active {
			&:after {
				transform: rotate(-45deg);
			}

			button {
				background-color: $color__primary;
			}

			& + dd {
				border-color: $color__primary;

				&:after {
					background-color: $color__primary;
				}

				& > div {
					opacity: 1;
				}
			}
		}
	}

	dd,
	.accordion__pane {
		border: 4px solid $color__base;
		border-top-width: 0;
		border-bottom-width: 0;
		position: relative;
		margin: 0 0 4px;
		transition: height ease-out 250ms;

		//DEVNOTE: this is a more elegant way to accomodate the visual realisation of bottom border and allowing it to collapse and get cropped(leaving no residual artifact to counter i.e. a visible bottom border remaining below each accordion header external to the button's hotspot)
		&:after {
			content: "\00A0";
			background-color: $color__base;
			height: 4px;
			position: absolute;
			bottom: 0;
			left: 0;
			right: 0;
		}

		html:not(.client__no-js) & {
			height: 0;
			overflow: hidden;
		}

		& > div {
			padding: 0 10px 4px;
			overflow: hidden; /*counter margin collapse*/
			opacity: 0;
			transition: opacity ease-out 500ms 100ms;
		}
	}
}


/* =============================================================================
	UI themes
	========================================================================== */
.theme__primary {
	a {
		color: $color__primary;
	}
	
	dt,
	.accordion__header {
		button {
			html:not(.client__no-js) & {
				&:hover {
					background-color: $color__primary;
				}
			}
		}
	
		&.state__active {
			button {
				background-color: $color__primary;
			}

			& + dd {
				border-color: $color__primary;

				&:after {
					background-color: $color__primary;
				}
			}
		}
	}
}

.theme__secondary {
	a {
		color: $color__secondary;
	}

	dt,
	.accordion__header {
		button {
			html:not(.client__no-js) & {
				&:hover {
					background-color: $color__secondary;
				}
			}
		}
	
		&.state__active {
			button {
				background-color: $color__secondary;
			}

			& + dd {
				border-color: $color__secondary;

				&:after {
					background-color: $color__secondary;
				}
			}
		}
	}
}
