"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var $=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;if(e&&/:scope(?![\w-])/gi.test(e))try{document.querySelector(":scope body")}catch(n){return POLYFILL.scope.call(t,e,"querySelector")}return t.querySelector(e)},$$=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;if(e&&/:scope(?![\w-])/gi.test(e))try{document.querySelector(":scope body")}catch(n){return[].slice.call(POLYFILL.scope.call(t,e,"querySelectorAll"))}return[].slice.call(t.querySelectorAll(e))},POLYFILL={scope:function(e,t){var n=getUID();this.setAttribute(n,""),e=e.replace(/:scope(?![\w-])/gi,"[".concat(n,"]"));var o=this[t].call(this,e);return this.removeAttribute(n),o}},getUID=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"_",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";do{e+=Math.random().toString(36).substring(2)+t+Date.now().toString(36)}while(document.getElementById(e));return e};function isElement(e){return e&&"object"===("undefined"==typeof HTMLElement?"undefined":_typeof(HTMLElement))?HTMLElement.prototype.isPrototypeOf(e):null!==e&&"object"===_typeof(e)&&1===e.nodeType}var className={ACTIVE:"state__active",TRANSITION:"state__transition"},selector={ACCORDION:".ui__accordion",TAB:".ui__tab",TOGGLE:".ui__toggle",PANE:".ui__pane"};function A11y(e){var t=$$(":scope > ".concat(selector.TAB),e);$$(":scope > ".concat(selector.PANE),e);e.setAttribute("role","tablist"),e.setAttribute("aria-multiselectable",!1),t.forEach(function(t,n,i){var c,a,s=t.nextElementSibling;t.id.length?c=t.id:(c=getUID("tab-",n),t.setAttribute("id",c)),s.id.length?a=s.id:(a=getUID("pane-",n),s.setAttribute("id",a)),t.setAttribute("role","tab"),t.setAttribute("aria-controls",a),s.setAttribute("role","tabpanel"),s.setAttribute("aria-labelledby",c),$(selector.TOGGLE,t).addEventListener("click",function(t){if(t.stopPropagation(),this.parentElement.classList.contains(className.ACTIVE))return!1;o.call(this.parentElement,t,e,i)})});var n=$$(["".concat(selector.TAB,".").concat(className.ACTIVE),"".concat(selector.TAB,"[aria-selected=true]"),"".concat(selector.TAB,"[aria-expanded=true]"),"".concat(selector.PANE,"[aria-hidden=false]")].join(),e).filter(function(t){return t.parentNode===e}).map(function(e,t){return e.classList.contains("ui__pane")?e.previousElementSibling:e}).filter(function(e,t,n){return t===n.indexOf(e)});function o(e,t,n){$$(":scope > ".concat(selector.TAB),t);var o=this;return n.forEach(function(e,t){e.setAttribute("aria-selected",e===o),e.setAttribute("aria-expanded",e===o),e.setAttribute("aria-disabled",e===o),e.nextElementSibling.setAttribute("aria-hidden",e!==o)}),!1}return n.length>1&&window.console&&console.warn("Malformed structure: You can not have more than one active pane declared on a singular accordion interface. Check the markup and any explicit classNames and ARIA properties in play. Only the first occurance will be enforced."),t.forEach(function(e,t){e.classList[e===n[0]?"add":"remove"]("state__active")}),o.call(n[0],null,e,t),{create:function(){console.log("create instance")},refresh:function(){console.log("refresh instance")},destroy:function(){console.log("destroy instance")}}}function styleInject(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!=typeof document){var o=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css","top"===n&&o.firstChild?o.insertBefore(i,o.firstChild):o.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}}var css=".ui__accordion .ui__tab {\n  position: relative; }\n  .ui__accordion .ui__tab .ui__toggle {\n    display: block;\n    cursor: pointer; }\n\n.ui__accordion .ui__pane {\n  position: relative;\n  overflow: hidden; }\n\n.ui__accordion .ui__tab:not([aria-expanded=true]):not([aria-selected=true]):not(.state__active):not(.state__transition) + .ui__pane,\n.ui__accordion .ui__tab:not([aria-expanded=true]):not([aria-selected=true]):not(.state__active):not(.state__transition) + [aria-hidden=true] {\n  height: 0;\n  display: none; }\n";styleInject(css);var className$1={ACTIVE:"state__active",TRANSITION:"state__transition"},selector$1={ACCORDION:".ui__accordion",TAB:".ui__tab",TOGGLE:".ui__toggle",PANE:".ui__pane"};function uiAccordion(e){if(!(!1 in document&&!1 in window&&!1 in document.documentElement)&&isElement(e)){var t=e;t.classList.contains(selector$1.ACCORDION.slice(1))||t.classList.add(selector$1.ACCORDION.slice(1));new A11y(t);return $$(":scope > ".concat(selector$1.TAB," > ").concat(selector$1.TOGGLE),t).forEach(function(e,n){e.addEventListener("click",function(e){if(e.stopPropagation(),this.parentElement.classList.contains(className$1.ACTIVE))return!1;(function(e,t){var n=$$(":scope > ".concat(selector$1.TAB),t),o=this;return n.forEach(function(e,t){var n=e.nextElementSibling;e.classList.contains(className$1.ACTIVE)?(n.style.height="".concat(n.scrollHeight,"px"),n.getBoundingClientRect(),e.classList.add(className$1.TRANSITION),e.classList.remove(className$1.ACTIVE),n.style.height="".concat(0,"px"),"all 0s ease 0s"===window.getComputedStyle(n,null).getPropertyValue("transition")&&(n.style.height=null,e.classList.remove(className$1.TRANSITION))):e===o&&(n.style.height="".concat(0,"px"),e.classList.add(className$1.ACTIVE,className$1.TRANSITION),n.style.height="".concat(n.scrollHeight,"px"),"all 0s ease 0s"===window.getComputedStyle(n,null).getPropertyValue("transition")&&(n.style.height=null,e.classList.remove(className$1.TRANSITION)))}),!1}).call(this.parentElement,e,t)},!1)}),$$(":scope > ".concat(selector$1.PANE),t).forEach(function(e){e.addEventListener("transitionend",function(e){var t=this.previousElementSibling;this.style.height&&"height"===e.propertyName&&(this.style.height=null,t.classList.remove(className$1.TRANSITION))},!1)}),{addEventListener:function(e){console.log("TBC")},create:function(){console.log("TBC create instance")},refresh:function(){console.log("TBC refresh instance")},destroy:function(){console.log("TBC destroy instance")}}}}module.exports=uiAccordion;
